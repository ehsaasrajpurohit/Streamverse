{"ast":null,"code":"var __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nimport { useEffect, useRef } from 'react';\nimport useIsomorphicLayoutEffect from 'use-isomorphic-layout-effect';\nimport { ReactEffectType } from './types';\nimport { partition } from './utils';\n\nfunction executeEffect(action, state) {\n  var exec = action.exec;\n  var originalExec = exec(state.context, state._event.data, {\n    action: action,\n    state: state,\n    _event: state._event\n  });\n  originalExec();\n}\n\nexport function useReactEffectActions(service) {\n  var effectActionsRef = useRef([]);\n  var layoutEffectActionsRef = useRef([]);\n  useIsomorphicLayoutEffect(function () {\n    var sub = service.subscribe(function (currentState) {\n      var _a, _b;\n\n      if (currentState.actions.length) {\n        var reactEffectActions = currentState.actions.filter(function (action) {\n          return typeof action.exec === 'function' && '__effect' in action.exec;\n        });\n\n        var _c = __read(partition(reactEffectActions, function (action) {\n          return action.exec.__effect === ReactEffectType.Effect;\n        }), 2),\n            effectActions = _c[0],\n            layoutEffectActions = _c[1];\n\n        (_a = effectActionsRef.current).push.apply(_a, __spreadArray([], __read(effectActions.map(function (effectAction) {\n          return [effectAction, currentState];\n        })), false));\n\n        (_b = layoutEffectActionsRef.current).push.apply(_b, __spreadArray([], __read(layoutEffectActions.map(function (layoutEffectAction) {\n          return [layoutEffectAction, currentState];\n        })), false));\n      }\n    });\n    return function () {\n      sub.unsubscribe();\n    };\n  }, []); // this is somewhat weird - this should always be flushed within useLayoutEffect\n  // but we don't want to receive warnings about useLayoutEffect being used on the server\n  // so we have to use `useIsomorphicLayoutEffect` to silence those warnings\n\n  useIsomorphicLayoutEffect(function () {\n    while (layoutEffectActionsRef.current.length) {\n      var _a = __read(layoutEffectActionsRef.current.shift(), 2),\n          layoutEffectAction = _a[0],\n          effectState = _a[1];\n\n      executeEffect(layoutEffectAction, effectState);\n    }\n  }); // https://github.com/davidkpiano/xstate/pull/1202#discussion_r429677773\n\n  useEffect(function () {\n    while (effectActionsRef.current.length) {\n      var _a = __read(effectActionsRef.current.shift(), 2),\n          effectAction = _a[0],\n          effectState = _a[1];\n\n      executeEffect(effectAction, effectState);\n    }\n  });\n}","map":{"version":3,"names":["__read","o","n","m","Symbol","iterator","i","call","r","ar","e","next","done","push","value","error","__spreadArray","to","from","pack","arguments","length","l","Array","prototype","slice","concat","useEffect","useRef","useIsomorphicLayoutEffect","ReactEffectType","partition","executeEffect","action","state","exec","originalExec","context","_event","data","useReactEffectActions","service","effectActionsRef","layoutEffectActionsRef","sub","subscribe","currentState","_a","_b","actions","reactEffectActions","filter","_c","__effect","Effect","effectActions","layoutEffectActions","current","apply","map","effectAction","layoutEffectAction","unsubscribe","shift","effectState"],"sources":["/Users/ehsaasrajpurohit/Desktop/Streamverse-Avishkar-main/client/node_modules/@xstate/react/es/useReactEffectActions.js"],"sourcesContent":["var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useEffect, useRef } from 'react';\nimport useIsomorphicLayoutEffect from 'use-isomorphic-layout-effect';\nimport { ReactEffectType } from './types';\nimport { partition } from './utils';\nfunction executeEffect(action, state) {\n    var exec = action.exec;\n    var originalExec = exec(state.context, state._event.data, {\n        action: action,\n        state: state,\n        _event: state._event\n    });\n    originalExec();\n}\nexport function useReactEffectActions(service) {\n    var effectActionsRef = useRef([]);\n    var layoutEffectActionsRef = useRef([]);\n    useIsomorphicLayoutEffect(function () {\n        var sub = service.subscribe(function (currentState) {\n            var _a, _b;\n            if (currentState.actions.length) {\n                var reactEffectActions = currentState.actions.filter(function (action) {\n                    return (typeof action.exec === 'function' &&\n                        '__effect' in action.exec);\n                });\n                var _c = __read(partition(reactEffectActions, function (action) {\n                    return action.exec.__effect === ReactEffectType.Effect;\n                }), 2), effectActions = _c[0], layoutEffectActions = _c[1];\n                (_a = effectActionsRef.current).push.apply(_a, __spreadArray([], __read(effectActions.map(function (effectAction) { return [effectAction, currentState]; })), false));\n                (_b = layoutEffectActionsRef.current).push.apply(_b, __spreadArray([], __read(layoutEffectActions.map(function (layoutEffectAction) { return [layoutEffectAction, currentState]; })), false));\n            }\n        });\n        return function () {\n            sub.unsubscribe();\n        };\n    }, []);\n    // this is somewhat weird - this should always be flushed within useLayoutEffect\n    // but we don't want to receive warnings about useLayoutEffect being used on the server\n    // so we have to use `useIsomorphicLayoutEffect` to silence those warnings\n    useIsomorphicLayoutEffect(function () {\n        while (layoutEffectActionsRef.current.length) {\n            var _a = __read(layoutEffectActionsRef.current.shift(), 2), layoutEffectAction = _a[0], effectState = _a[1];\n            executeEffect(layoutEffectAction, effectState);\n        }\n    }); // https://github.com/davidkpiano/xstate/pull/1202#discussion_r429677773\n    useEffect(function () {\n        while (effectActionsRef.current.length) {\n            var _a = __read(effectActionsRef.current.shift(), 2), effectAction = _a[0], effectState = _a[1];\n            executeEffect(effectAction, effectState);\n        }\n    });\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}