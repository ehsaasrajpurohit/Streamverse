{"ast":null,"code":"var __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nimport { useState, useRef } from 'react';\nimport useIsomorphicLayoutEffect from 'use-isomorphic-layout-effect';\nimport useConstant from './useConstant';\nexport function isActorWithState(actorRef) {\n  return 'state' in actorRef;\n}\n\nfunction isDeferredActor(actorRef) {\n  return 'deferred' in actorRef;\n}\n\nvar noop = function () {\n  /* ... */\n};\n\nfunction defaultGetSnapshot(actorRef) {\n  return 'getSnapshot' in actorRef ? actorRef.getSnapshot() : isActorWithState(actorRef) ? actorRef.state : undefined;\n}\n\nexport function useActor(actorRef, getSnapshot) {\n  if (getSnapshot === void 0) {\n    getSnapshot = defaultGetSnapshot;\n  }\n\n  var actorRefRef = useRef(actorRef);\n  var deferredEventsRef = useRef([]);\n\n  var _a = __read(useState(function () {\n    return getSnapshot(actorRef);\n  }), 2),\n      current = _a[0],\n      setCurrent = _a[1];\n\n  var send = useConstant(function () {\n    return function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      var event = args[0];\n\n      if (process.env.NODE_ENV !== 'production' && args.length > 1) {\n        console.warn(\"Unexpected payload: \".concat(JSON.stringify(args[1]), \". Only a single event object can be sent to actor send() functions.\"));\n      }\n\n      var currentActorRef = actorRefRef.current; // If the previous actor is a deferred actor,\n      // queue the events so that they can be replayed\n      // on the non-deferred actor.\n\n      if (isDeferredActor(currentActorRef) && currentActorRef.deferred) {\n        deferredEventsRef.current.push(event);\n      } else {\n        currentActorRef.send(event);\n      }\n    };\n  });\n  useIsomorphicLayoutEffect(function () {\n    actorRefRef.current = actorRef;\n    setCurrent(getSnapshot(actorRef));\n    var subscription = actorRef.subscribe({\n      next: function (emitted) {\n        return setCurrent(emitted);\n      },\n      error: noop,\n      complete: noop\n    }); // Dequeue deferred events from the previous deferred actorRef\n\n    while (deferredEventsRef.current.length > 0) {\n      var deferredEvent = deferredEventsRef.current.shift();\n      actorRef.send(deferredEvent);\n    }\n\n    return function () {\n      subscription.unsubscribe();\n    };\n  }, [actorRef]);\n  return [current, send];\n}","map":{"version":3,"names":["__read","o","n","m","Symbol","iterator","i","call","r","ar","e","next","done","push","value","error","useState","useRef","useIsomorphicLayoutEffect","useConstant","isActorWithState","actorRef","isDeferredActor","noop","defaultGetSnapshot","getSnapshot","state","undefined","useActor","actorRefRef","deferredEventsRef","_a","current","setCurrent","send","args","_i","arguments","length","event","process","env","NODE_ENV","console","warn","concat","JSON","stringify","currentActorRef","deferred","subscription","subscribe","emitted","complete","deferredEvent","shift","unsubscribe"],"sources":["/Users/ehsaasrajpurohit/Desktop/Streamverse-Avishkar-main/client/node_modules/@xstate/react/es/useActor.js"],"sourcesContent":["var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { useState, useRef } from 'react';\nimport useIsomorphicLayoutEffect from 'use-isomorphic-layout-effect';\nimport useConstant from './useConstant';\nexport function isActorWithState(actorRef) {\n    return 'state' in actorRef;\n}\nfunction isDeferredActor(actorRef) {\n    return 'deferred' in actorRef;\n}\nvar noop = function () {\n    /* ... */\n};\nfunction defaultGetSnapshot(actorRef) {\n    return 'getSnapshot' in actorRef\n        ? actorRef.getSnapshot()\n        : isActorWithState(actorRef)\n            ? actorRef.state\n            : undefined;\n}\nexport function useActor(actorRef, getSnapshot) {\n    if (getSnapshot === void 0) { getSnapshot = defaultGetSnapshot; }\n    var actorRefRef = useRef(actorRef);\n    var deferredEventsRef = useRef([]);\n    var _a = __read(useState(function () { return getSnapshot(actorRef); }), 2), current = _a[0], setCurrent = _a[1];\n    var send = useConstant(function () { return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var event = args[0];\n        if (process.env.NODE_ENV !== 'production' && args.length > 1) {\n            console.warn(\"Unexpected payload: \".concat(JSON.stringify(args[1]), \". Only a single event object can be sent to actor send() functions.\"));\n        }\n        var currentActorRef = actorRefRef.current;\n        // If the previous actor is a deferred actor,\n        // queue the events so that they can be replayed\n        // on the non-deferred actor.\n        if (isDeferredActor(currentActorRef) && currentActorRef.deferred) {\n            deferredEventsRef.current.push(event);\n        }\n        else {\n            currentActorRef.send(event);\n        }\n    }; });\n    useIsomorphicLayoutEffect(function () {\n        actorRefRef.current = actorRef;\n        setCurrent(getSnapshot(actorRef));\n        var subscription = actorRef.subscribe({\n            next: function (emitted) { return setCurrent(emitted); },\n            error: noop,\n            complete: noop\n        });\n        // Dequeue deferred events from the previous deferred actorRef\n        while (deferredEventsRef.current.length > 0) {\n            var deferredEvent = deferredEventsRef.current.shift();\n            actorRef.send(deferredEvent);\n        }\n        return function () {\n            subscription.unsubscribe();\n        };\n    }, [actorRef]);\n    return [current, send];\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}