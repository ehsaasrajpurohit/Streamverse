{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar actions = require('./actions.js');\n\nvar Actor = require('./Actor.js');\n\nvar utils = require('./utils.js');\n/**\r\n * Returns an actor behavior from a reducer and its initial state.\r\n *\r\n * @param transition The pure reducer that returns the next state given the current state and event.\r\n * @param initialState The initial state of the reducer.\r\n * @returns An actor behavior\r\n */\n\n\nfunction fromReducer(transition, initialState) {\n  return {\n    transition: transition,\n    initialState: initialState\n  };\n}\n\nfunction fromPromise(promiseFn) {\n  var initialState = {\n    error: undefined,\n    data: undefined,\n    status: 'pending'\n  };\n  return {\n    transition: function (state, event, _a) {\n      var parent = _a.parent,\n          id = _a.id,\n          observers = _a.observers;\n\n      switch (event.type) {\n        case 'fulfill':\n          parent === null || parent === void 0 ? void 0 : parent.send(actions.doneInvoke(id, event.data));\n          return {\n            error: undefined,\n            data: event.data,\n            status: 'fulfilled'\n          };\n\n        case 'reject':\n          parent === null || parent === void 0 ? void 0 : parent.send(actions.error(id, event.error));\n          observers.forEach(function (observer) {\n            observer.error(event.error);\n          });\n          return {\n            error: event.error,\n            data: undefined,\n            status: 'rejected'\n          };\n\n        default:\n          return state;\n      }\n    },\n    initialState: initialState,\n    start: function (_a) {\n      var self = _a.self;\n      promiseFn().then(function (data) {\n        self.send({\n          type: 'fulfill',\n          data: data\n        });\n      }, function (reason) {\n        self.send({\n          type: 'reject',\n          error: reason\n        });\n      });\n      return initialState;\n    }\n  };\n}\n\nfunction spawnBehavior(behavior, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var state = behavior.initialState;\n  var observers = new Set();\n  var mailbox = [];\n  var flushing = false;\n\n  var flush = function () {\n    if (flushing) {\n      return;\n    }\n\n    flushing = true;\n\n    while (mailbox.length > 0) {\n      var event_1 = mailbox.shift();\n      state = behavior.transition(state, event_1, actorCtx);\n      observers.forEach(function (observer) {\n        return observer.next(state);\n      });\n    }\n\n    flushing = false;\n  };\n\n  var actor = Actor.toActorRef({\n    id: options.id,\n    send: function (event) {\n      mailbox.push(event);\n      flush();\n    },\n    getSnapshot: function () {\n      return state;\n    },\n    subscribe: function (next, handleError, complete) {\n      var observer = utils.toObserver(next, handleError, complete);\n      observers.add(observer);\n      observer.next(state);\n      return {\n        unsubscribe: function () {\n          observers.delete(observer);\n        }\n      };\n    }\n  });\n  var actorCtx = {\n    parent: options.parent,\n    self: actor,\n    id: options.id || 'anonymous',\n    observers: observers\n  };\n  state = behavior.start ? behavior.start(actorCtx) : state;\n  return actor;\n}\n\nexports.fromPromise = fromPromise;\nexports.fromReducer = fromReducer;\nexports.spawnBehavior = spawnBehavior;","map":{"version":3,"names":["Object","defineProperty","exports","value","actions","require","Actor","utils","fromReducer","transition","initialState","fromPromise","promiseFn","error","undefined","data","status","state","event","_a","parent","id","observers","type","send","doneInvoke","forEach","observer","start","self","then","reason","spawnBehavior","behavior","options","Set","mailbox","flushing","flush","length","event_1","shift","actorCtx","next","actor","toActorRef","push","getSnapshot","subscribe","handleError","complete","toObserver","add","unsubscribe","delete"],"sources":["/Users/ehsaasrajpurohit/Desktop/Streamverse-Avishkar-main/client/node_modules/xstate/lib/behaviors.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar actions = require('./actions.js');\nvar Actor = require('./Actor.js');\nvar utils = require('./utils.js');\n\n/**\r\n * Returns an actor behavior from a reducer and its initial state.\r\n *\r\n * @param transition The pure reducer that returns the next state given the current state and event.\r\n * @param initialState The initial state of the reducer.\r\n * @returns An actor behavior\r\n */\n\nfunction fromReducer(transition, initialState) {\n  return {\n    transition: transition,\n    initialState: initialState\n  };\n}\nfunction fromPromise(promiseFn) {\n  var initialState = {\n    error: undefined,\n    data: undefined,\n    status: 'pending'\n  };\n  return {\n    transition: function (state, event, _a) {\n      var parent = _a.parent,\n          id = _a.id,\n          observers = _a.observers;\n\n      switch (event.type) {\n        case 'fulfill':\n          parent === null || parent === void 0 ? void 0 : parent.send(actions.doneInvoke(id, event.data));\n          return {\n            error: undefined,\n            data: event.data,\n            status: 'fulfilled'\n          };\n\n        case 'reject':\n          parent === null || parent === void 0 ? void 0 : parent.send(actions.error(id, event.error));\n          observers.forEach(function (observer) {\n            observer.error(event.error);\n          });\n          return {\n            error: event.error,\n            data: undefined,\n            status: 'rejected'\n          };\n\n        default:\n          return state;\n      }\n    },\n    initialState: initialState,\n    start: function (_a) {\n      var self = _a.self;\n      promiseFn().then(function (data) {\n        self.send({\n          type: 'fulfill',\n          data: data\n        });\n      }, function (reason) {\n        self.send({\n          type: 'reject',\n          error: reason\n        });\n      });\n      return initialState;\n    }\n  };\n}\nfunction spawnBehavior(behavior, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var state = behavior.initialState;\n  var observers = new Set();\n  var mailbox = [];\n  var flushing = false;\n\n  var flush = function () {\n    if (flushing) {\n      return;\n    }\n\n    flushing = true;\n\n    while (mailbox.length > 0) {\n      var event_1 = mailbox.shift();\n      state = behavior.transition(state, event_1, actorCtx);\n      observers.forEach(function (observer) {\n        return observer.next(state);\n      });\n    }\n\n    flushing = false;\n  };\n\n  var actor = Actor.toActorRef({\n    id: options.id,\n    send: function (event) {\n      mailbox.push(event);\n      flush();\n    },\n    getSnapshot: function () {\n      return state;\n    },\n    subscribe: function (next, handleError, complete) {\n      var observer = utils.toObserver(next, handleError, complete);\n      observers.add(observer);\n      observer.next(state);\n      return {\n        unsubscribe: function () {\n          observers.delete(observer);\n        }\n      };\n    }\n  });\n  var actorCtx = {\n    parent: options.parent,\n    self: actor,\n    id: options.id || 'anonymous',\n    observers: observers\n  };\n  state = behavior.start ? behavior.start(actorCtx) : state;\n  return actor;\n}\n\nexports.fromPromise = fromPromise;\nexports.fromReducer = fromReducer;\nexports.spawnBehavior = spawnBehavior;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}