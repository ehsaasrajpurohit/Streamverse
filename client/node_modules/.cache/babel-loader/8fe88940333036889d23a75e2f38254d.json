{"ast":null,"code":"var _jsxFileName = \"/Users/ehsaasrajpurohit/Desktop/Streamverse-Avishkar-main/client/src/Components/AudioCard.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport PlayCircleOutlineIcon from '@mui/icons-material/PlayCircleOutline';\nimport FavoriteIcon from '@mui/icons-material/Favorite';\nimport FavoriteBorderIcon from '@mui/icons-material/FavoriteBorder';\nimport DownloadIcon from '@mui/icons-material/Download';\nimport PlaylistAddIcon from '@mui/icons-material/PlaylistAdd';\nimport PlaylistPopup from '../Components/Playlistpopup/PlaylistPopup';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function AudioCard(props) {\n  _s();\n\n  const navigate = useNavigate();\n  const {\n    id,\n    audioPath,\n    title,\n    description,\n    userName\n  } = props;\n  const [isFavorite, setIsFavorite] = useState(false);\n  const [popup, setPopup] = useState(false);\n\n  const getAudioData = async () => {\n    const res = await axios.post(\"http://localhost:9002/getaudiodata\", {\n      id: id\n    });\n    setIsFavorite(res.data.isFavorite);\n  };\n\n  useEffect(() => {\n    getAudioData(); // eslint-disable-next-line\n  }, []);\n\n  const addToPlaylist = () => {\n    setPopup(true);\n    console.log(id);\n  };\n\n  const download = () => {//   var url = avatar\n    //   var link = \"\"\n    //   for (var i = 0; i < url.length; i++) {\n    //     link += url[i]\n    //     if (url[i] === '/' && url[i + 1] === 'u') {\n    //       link += \"upload/fl_attachment/\"\n    //       i++;\n    //       while (url[i] !== '/') i++;\n    //     }\n    //   }\n    //   window.location.href = link\n  };\n\n  const addToFavorites = () => {\n    console.log(\"add to fav\");\n    axios.post(\"http://localhost:9002/addfavoriteaudio\", {\n      id: id\n    }, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': 'Bearer ' + JSON.parse(localStorage.getItem('userTokenTime')).token\n      }\n    });\n    setIsFavorite(true);\n  };\n\n  const removeFromFavorites = () => {\n    axios.post(\"http://localhost:9002/removefavoriteaudio\", {\n      id: id\n    }, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': 'Bearer ' + JSON.parse(localStorage.getItem('userTokenTime')).token\n      }\n    });\n    setIsFavorite(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [popup && /*#__PURE__*/_jsxDEV(PlaylistPopup, {\n      id: id,\n      type: \"audio\",\n      setPopup: setPopup\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 18\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mr-[10%] mb-1 shadow-sm flex flex-row w-fit bg-white\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"m-1\",\n        onClick: addToPlaylist,\n        children: /*#__PURE__*/_jsxDEV(PlaylistAddIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 57\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"m-1\",\n        onClick: download,\n        children: /*#__PURE__*/_jsxDEV(DownloadIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 52\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), isFavorite ? /*#__PURE__*/_jsxDEV(\"button\", {\n        name: \"favourite\",\n        onClick: removeFromFavorites,\n        children: /*#__PURE__*/_jsxDEV(FavoriteIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        name: \"favourite\",\n        onClick: addToFavorites,\n        children: /*#__PURE__*/_jsxDEV(FavoriteBorderIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(AudioCard, \"wSNMRzgeiA8TggNf94LfLQEphuA=\", false, function () {\n  return [useNavigate];\n});\n\n_c = AudioCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"AudioCard\");","map":{"version":3,"names":["axios","useState","useEffect","useNavigate","PlayCircleOutlineIcon","FavoriteIcon","FavoriteBorderIcon","DownloadIcon","PlaylistAddIcon","PlaylistPopup","AudioCard","props","navigate","id","audioPath","title","description","userName","isFavorite","setIsFavorite","popup","setPopup","getAudioData","res","post","data","addToPlaylist","console","log","download","addToFavorites","headers","JSON","parse","localStorage","getItem","token","removeFromFavorites"],"sources":["/Users/ehsaasrajpurohit/Desktop/Streamverse-Avishkar-main/client/src/Components/AudioCard.js"],"sourcesContent":["import axios from \"axios\";\nimport { useState,useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport PlayCircleOutlineIcon from '@mui/icons-material/PlayCircleOutline';\nimport FavoriteIcon from '@mui/icons-material/Favorite';\nimport FavoriteBorderIcon from '@mui/icons-material/FavoriteBorder';\nimport DownloadIcon from '@mui/icons-material/Download';\nimport PlaylistAddIcon from '@mui/icons-material/PlaylistAdd';\nimport PlaylistPopup from '../Components/Playlistpopup/PlaylistPopup';\n\nexport default function AudioCard(props) {\n\n  const navigate = useNavigate();\n  const {id, audioPath,title,description, userName} = props;\n  const [isFavorite, setIsFavorite] = useState(false);\n  const [popup, setPopup] = useState(false);\n\n  const getAudioData = async () => {\n    const res = await axios.post(\"http://localhost:9002/getaudiodata\", { id: id })\n    setIsFavorite(res.data.isFavorite)\n  }\n\n  useEffect(()=>{\n    getAudioData();\n    // eslint-disable-next-line\n  },[])\n\n  const addToPlaylist = () => {\n    setPopup(true);\n    console.log(id)\n  }\n\n  const download = () => {\n  //   var url = avatar\n\n  //   var link = \"\"\n  //   for (var i = 0; i < url.length; i++) {\n  //     link += url[i]\n  //     if (url[i] === '/' && url[i + 1] === 'u') {\n  //       link += \"upload/fl_attachment/\"\n  //       i++;\n  //       while (url[i] !== '/') i++;\n  //     }\n  //   }\n\n  //   window.location.href = link\n  }\n\n  const addToFavorites = () => {\n    console.log(\"add to fav\")\n    axios.post(\"http://localhost:9002/addfavoriteaudio\", { id: id }, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': 'Bearer ' + JSON.parse(localStorage.getItem('userTokenTime')).token\n      }\n    })\n    setIsFavorite(true);\n  }\n\n  const removeFromFavorites = () => {\n    axios.post(\"http://localhost:9002/removefavoriteaudio\", { id: id }, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': 'Bearer ' + JSON.parse(localStorage.getItem('userTokenTime')).token\n      }\n    })\n    setIsFavorite(false);\n  }\n\n  return (\n    <>\n      {\n        popup && <PlaylistPopup id={id} type=\"audio\" setPopup={setPopup}/>\n      }\n      <div className=\"mr-[10%] mb-1 shadow-sm flex flex-row w-fit bg-white\">\n        <button className=\"m-1\" onClick={addToPlaylist}><PlaylistAddIcon/></button>\n        <button className=\"m-1\" onClick={download}><DownloadIcon/></button>\n\n      {isFavorite ?\n        <button name=\"favourite\" onClick={removeFromFavorites}>\n          <FavoriteIcon />\n        </button> :\n        <button name=\"favourite\" onClick={addToFavorites}>\n          <FavoriteBorderIcon />\n        </button>\n      }\n\n      </div>\n    </>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}